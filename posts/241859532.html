<!DOCTYPE html><html lang="zh-CN"><head><style type="text/css">.douban-card-block{display:flex;justify-content:center;align-items:center;width:100%;max-height:400px}.douban-card{display:flex;margin:30px 10px;padding:15px;border-radius:15px;position:relative;justify-content:center;align-items:center;overflow:hidden;color:#faebd7;text-decoration:none}.douban-card:hover{text-decoration:none}.douban-card-bgimg{position:absolute;width:115%;height:115%;filter:blur(15px) brightness(.6);background-size:100%;background-position:center;background-repeat:no-repeat}.douban-card-img{position:relative;height:130px;width:80px;background-size:100%;background-position:center;background-repeat:no-repeat}.douban-card-left:hover .douban-card-img{filter:blur(5px) brightness(.6);transform:perspective(800px) rotateX(180deg)}.douban-card-left .douban-card-img{transition:all .5s ease}.douban-card-left{position:relative;display:flex;flex-direction:column;align-items:center}.douban-card-left .douban-card-status{height:130px;width:80px;text-align:center;font-weight:700;position:absolute;left:0;top:30%;transform:rotateX(180deg);backface-visibility:hidden;transition:all .5s ease}.douban-card-left:hover .douban-card-status{transform:perspective(800px) rotateX(0)}.douban-card-right{position:relative;display:flex;flex-direction:column;margin-left:12px;font-size:16px;font-family:"Courier New",Courier,monospace;line-height:1.3;color:#faebd7}.douban-card-item{margin-top:4px}</style><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=PT+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"www.shaogui.life","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"flat","show_result":true},"fold":{"enable":true,"height":200},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="阅读书籍 &lt;&lt;改善 Python 程序的 91 个建议&gt;&gt; 总结内容"><meta property="og:type" content="article"><meta property="og:title" content="编写高质量代码 - 改善 Python 程序的 91 个建议"><meta property="og:url" content="https://www.shaogui.life/posts/241859532.html"><meta property="og:site_name" content="年轻人起来冲"><meta property="og:description" content="阅读书籍 &lt;&lt;改善 Python 程序的 91 个建议&gt;&gt; 总结内容"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2022-07-10T04:55:20.000Z"><meta property="article:modified_time" content="2025-01-18T10:27:40.502Z"><meta property="article:author" content="Shaogui"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.shaogui.life/posts/241859532.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.shaogui.life/posts/241859532.html","path":"posts/241859532.html","title":"编写高质量代码 - 改善 Python 程序的 91 个建议"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>编写高质量代码 - 改善 Python 程序的 91 个建议 | 年轻人起来冲</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><link rel="alternate" href="/atom.xml" title="年轻人起来冲" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">年轻人起来冲</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">77</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">70</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">544</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFpython-%E7%9A%84-packagingunpackaging%E6%9C%BA%E5%88%B6"><span class="nav-number">1.</span> <span class="nav-text">什么是 Python 的 packaging&#x2F;unpackaging 机制 ？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E4%BA%A4%E6%8D%A2%E4%B8%A4%E4%B8%AA%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="nav-number">2.</span> <span class="nav-text">Python 如何快速交换两个变量的值？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E7%9A%84%E6%B3%A8%E9%87%8A%E5%8E%9F%E5%88%99"><span class="nav-number">3.</span> <span class="nav-text">Python 的注释原则？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E7%BC%96%E7%A0%81%E6%97%B6%E5%A6%82%E4%BD%95%E9%80%82%E5%BD%93%E5%9C%B0%E7%A9%BA%E8%A1%8C"><span class="nav-number">4.</span> <span class="nav-text">Python 编码时，如何适当地空行？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E5%86%99python%E5%87%BD%E6%95%B0%E7%9A%84%E5%8E%9F%E5%88%99"><span class="nav-number">5.</span> <span class="nav-text">编写 Python 函数的原则？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E7%BC%96%E7%A0%81%E6%97%B6%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E5%B8%B8%E9%87%8F"><span class="nav-number">6.</span> <span class="nav-text">Python 编码时，如何处理常量？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%AE%A4%E8%AF%86python%E4%B8%AD%E7%9A%84%E6%96%AD%E8%A8%80"><span class="nav-number">7.</span> <span class="nav-text">如何认识 Python 中的断言？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFpython%E7%9A%84lazy-evaluation%E7%89%B9%E6%80%A7"><span class="nav-number">8.</span> <span class="nav-text">什么是 Python 的 Lazy evaluation 特性？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5"><span class="nav-number">9.</span> <span class="nav-text">Python 中如何进行类型检查？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%BA%8F%E5%88%97%E7%9A%84%E7%B4%A2%E5%BC%95%E5%92%8C%E5%80%BC"><span class="nav-number">10.</span> <span class="nav-text">Python 中如何获取序列的索引和值？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD-%E5%92%8Cis%E7%9A%84%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8A%E4%BD%BF%E7%94%A8%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">11.</span> <span class="nav-text">Python 中 &#x3D; &#x3D; 和 is 的在字符串上使用的注意事项？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9C%89%E8%8A%82%E5%88%B6%E4%BD%BF%E7%94%A8fromimport%E8%AF%AD%E5%8F%A5"><span class="nav-number">12.</span> <span class="nav-text">Python 中为什么要有节制使用 from…import 语句？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E7%9A%84i1%E4%B8%8Ei%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">13.</span> <span class="nav-text">Python 的 i+&#x3D;1 与 ++i 的区别？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8else%E7%AE%80%E5%8C%96%E5%BE%AA%E7%8E%AF"><span class="nav-number">14.</span> <span class="nav-text">Python 如何使用 else 简化循环？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%9A%84%E5%8E%9F%E5%88%99"><span class="nav-number">15.</span> <span class="nav-text">Python 中异常处理的原则？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E4%BD%BF%E7%94%A8finally%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">16.</span> <span class="nav-text">Python 中使用 finally 的注意事项？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E4%BD%BF%E7%94%A8none%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">17.</span> <span class="nav-text">Python 中使用 None 的注意事项？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E4%BD%BF%E7%94%A8join%E5%92%8C%E8%BF%9E%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="nav-number">18.</span> <span class="nav-text">Python 中使用 join 和 + 连接字符串的差异？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">19.</span> <span class="nav-text">Python 中格式化字符串的方法？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%8C%BA%E5%88%AB%E5%AF%B9%E5%BE%85python%E7%9A%84%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E5%8F%8A%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1"><span class="nav-number">20.</span> <span class="nav-text">如何区别对待 Python 的可变对象及不可变对象？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E6%8E%A8%E8%8D%90%E5%AF%B9-%E5%92%8C%E8%BF%9B%E8%A1%8C%E4%B8%80%E8%87%B4%E7%9A%84%E5%AE%B9%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F"><span class="nav-number">21.</span> <span class="nav-text">Python 中推荐对 []、() 和 {} 进行一致的容器初始化方式？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cc%E4%B8%8Epython%E7%9A%84%E8%BE%85%E5%8A%A9%E5%B7%AE%E5%BC%82"><span class="nav-number">22.</span> <span class="nav-text">C&#x2F;C++ 与 Python 的辅助差异？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E7%9A%84%E5%87%BD%E6%95%B0%E4%BC%A0%E5%8F%82%E6%98%AF%E4%BC%A0%E5%80%BC%E8%BF%98%E6%98%AF%E4%BC%A0%E5%BC%95%E7%94%A8"><span class="nav-number">23.</span> <span class="nav-text">Python 的函数传参是传值还是传引用？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E7%9A%84%E9%A3%8E%E9%99%A9"><span class="nav-number">24.</span> <span class="nav-text">Python 使用默认参数的风险？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%AE%A4%E8%AF%86python%E7%9A%84%E5%8F%98%E9%95%BF%E5%8F%82%E6%95%B0"><span class="nav-number">25.</span> <span class="nav-text">如何认识 Python 的变长参数？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%85%8E%E7%94%A8python%E7%9A%84%E5%8F%98%E9%95%BF%E5%8F%82%E6%95%B0"><span class="nav-number">26.</span> <span class="nav-text">为什么要慎用 Python 的变长参数？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%ADstr%E5%92%8Crepr%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">27.</span> <span class="nav-text">Python 中 str 和 repr 的区别？</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Shaogui" src="/images/avatar-2023.png"><p class="site-author-name" itemprop="name">Shaogui</p><div class="site-description" itemprop="description">害怕失败是本能，勇敢面对才是本事</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">544</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">70</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">77</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/WuShaogui" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;WuShaogui" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/mu-zhi-zhi-tian" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;mu-zhi-zhi-tian" rel="noopener me" target="_blank"><i class="fab fa-zhihu fa-fw"></i>知乎</a></span></div><div class="cc-license animated" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div><div class="back-to-top animated" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> 链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://manaai.cn/" title="http:&#x2F;&#x2F;manaai.cn&#x2F;" rel="noopener" target="_blank">神力AI</a></li></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.shaogui.life/posts/241859532.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar-2023.png"><meta itemprop="name" content="Shaogui"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="年轻人起来冲"><meta itemprop="description" content="害怕失败是本能，勇敢面对才是本事"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="编写高质量代码 - 改善 Python 程序的 91 个建议 | 年轻人起来冲"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">编写高质量代码 - 改善 Python 程序的 91 个建议</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-10 12:55:20" itemprop="dateCreated datePublished" datetime="2022-07-10T12:55:20+08:00">2022-07-10</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-01-18 18:27:40" itemprop="dateModified" datetime="2025-01-18T18:27:40+08:00">2025-01-18</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/3-%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5/" itemprop="url" rel="index"><span itemprop="name">3-编程实践</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/3-%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5/C-Python/" itemprop="url" rel="index"><span itemprop="name">C-Python</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>13k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>12 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>阅读书籍 &lt;&lt;改善 Python 程序的 91 个建议&gt;&gt; 总结内容</p><span id="more"></span><h3 id="什么是python-的-packagingunpackaging机制"><a class="markdownIt-Anchor" href="#什么是python-的-packagingunpackaging机制"></a> 什么是 Python 的 packaging/unpackaging 机制 ？</h3><ul><li><p>对于表达式 x，y=y，x，其在内存中执行的顺序如下</p></li><li><p>1 ）先计算右边的表达 式 y ， x ，因此先在内存中创建元 组 （ y ， x ） ，其标示符和值分别 为 y 、 x 及其对应的值 ，其中 y 和 x 是在初始化时已经存在于内存中的对 象</p></li><li><p>2 ）计算表达式左边的值并进行赋值 ，元组被依次分配给左边的标示符 ，通过解压 缩 （ unpacking ），元组第一标识 符 （ 为 y ）分配给左边第一个元素 （此时 为 x ） ，元组第二个标识符 （ 为 x ）分配给第二个元素 （此时 为 y ） ，从而达到 x 、 y 值交换的目的</p></li></ul><h3 id="python如何快速交换两个变量的值"><a class="markdownIt-Anchor" href="#python如何快速交换两个变量的值"></a> Python 如何快速交换两个变量的值？</h3><ul><li><p>利用 Python 的 packaging/unpackaging 机制 ？</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a,b=b,a</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="python的注释原则"><a class="markdownIt-Anchor" href="#python的注释原则"></a> Python 的注释原则？</h3><ul><li>Python 中有 3 种形式的代码注释 ：块注 释 、行注释以及文档注 释 （ docstring ）</li><li>注释和代码隔开一定的距离 ，同时在块注释之后最好多留几行空白再写代码</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x=x+<span class="number">1</span>        <span class="comment"># increace x by 1(更好)</span></span><br><span class="line">x=x+<span class="number">1</span><span class="comment"># increace x by 1</span></span><br></pre></td></tr></tbody></table></figure><ul><li>给外部可访问的函数和方法 （无论是否简单 ）添加文档注释 。注释要清楚地描述方法的功 能 ，并对参数 、返回值以及可能发生的异常进行说明 ，使得外部调用它的人员仅仅 看 docs tring 就能正确使用</li><li>推荐在文件头中包 含 copyright 申明 、模块描述 等 ，如有必要 ，可以考虑加入作者信息以及变更记录</li></ul><h3 id="python编码时如何适当地空行"><a class="markdownIt-Anchor" href="#python编码时如何适当地空行"></a> Python 编码时，如何适当地空行？</h3><ul><li><p>在一组代码表达完一个完整的思路之 后 ，应该用空白行进行间隔 。如每个函数之 间 ，导入声明 、变量赋值 等 。通俗点讲就是不要在一段代码中说明几件 事 。推荐在函数定义或者类定义之间空两 行 ，在类定义与第一个方法之间 ，或者需要进行语义分割的地方空一行</p></li><li><p>尽量保持上下文语义的易理解性 。如当一个函数需要调用另一个函数的时候 ，尽量将它们放在一 起 ，最好调用者在 上 ，被调用者在下</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">A</span>():</span><br><span class="line">	B();</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">B</span>():</span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>避免过长的代码行 ，每行最好不要超过 8 0 个字 符 。以每屏能够显示完整代码而不需要拖动滚动条为最 佳 ，超过的部分可以用圆括 号 、方括号和花括号等进行行连 接 ，并且保持行连接的元素垂直对齐</p></li></ul><h3 id="编写python函数的原则"><a class="markdownIt-Anchor" href="#编写python函数的原则"></a> 编写 Python 函数的原则？</h3><ul><li><p>函数设计要尽量短 小 ，嵌套层次不宜过深：函数中需要用 到 if 、 e lif 、 w hile 、 for 等循环语句的地方 ，尽量不要嵌套过深 ，最好能控制在 3 层以 内</p></li><li><p>函数申明应该做到合理 、简单 、易于使用：除了函数名能够正确反映其大体功能 外 ，参数的设计也应该简洁明了 ，参数个数不宜太多</p></li><li><p>函数参数设计应该考虑向下兼容</p></li><li><p>一个函数只做一件 事 ，尽量保证函数语句粒度的一致性</p></li></ul><h3 id="python编码时如何处理常量"><a class="markdownIt-Anchor" href="#python编码时如何处理常量"></a> Python 编码时，如何处理常量？</h3><ul><li><p>无论采用哪一种方式来实现常量 ，都提倡将常量集中到一个文件中 ，因为这样有利于维 护 ，一旦需要修改常量的值 ，可以集中统一进行而不是逐个文件去检查</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">const</span>:</span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">ConstError</span>(<span class="title class_ inherited__">TypeError</span>): <span class="keyword">pass</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">ConstCaseError</span>(<span class="title class_ inherited__">ConstError</span>): <span class="keyword">pass</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">_setattr__</span>(<span class="params">self, name, value</span>):</span><br><span class="line">		<span class="keyword">if</span> <span class="variable language_">self</span>.__dict__.has_key(name):</span><br><span class="line">			<span class="keyword">raise</span> <span class="variable language_">self</span>.ConstError, <span class="string">"Can't change const.%s"</span> % name</span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> name.isupper():</span><br><span class="line">			<span class="keyword">raise</span> <span class="variable language_">self</span>.ConstCaseError, \</span><br><span class="line">				  <span class="string">'const name "%s" is not all uppercase'</span> % name</span><br><span class="line">		<span class="variable language_">self</span>.__dict__[name] = value</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.modules[__name__]=_const()</span><br><span class="line"><span class="keyword">import</span> const</span><br><span class="line">const.MY_CONSTANT = <span class="number">1</span></span><br><span class="line">const.MY_SECOND_CONSTANT = <span class="number">2</span></span><br><span class="line">const.MY_THIRD_CONSTANT = <span class="string">'a'</span></span><br><span class="line">const.MY_FORTH_CONSTANT = <span class="string">'b'</span></span><br><span class="line"><span class="comment">#使用</span></span><br><span class="line"><span class="keyword">from</span> constant <span class="keyword">import</span> const</span><br><span class="line"><span class="built_in">print</span> const.MY_SECOND_CONSTANT</span><br><span class="line"><span class="built_in">print</span>  const.MY_THIRD_CONSTANT*<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>  const.MY_FORTH_CONSTANT+<span class="string">'5'</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="如何认识python中的断言"><a class="markdownIt-Anchor" href="#如何认识python中的断言"></a> 如何认识 Python 中的断言？</h3><ul><li><p>断言是有代价 的 ，它会对性能产生一定的影响 ，对于编译型的语言 ， 如 C/C++ ，这也许并不那么重 要 ，因为断言只在调试模式下启 用 。 但 Python 并没有严格定义调试和发布模式之间的区 别 ，通常禁用断言的方法是在运行脚本的时候加上 - O 标志 ，这种方式带来的影响是它并不优化字节码 ，而是忽略与断言相关的语句</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python - O asserttest.py</span><br></pre></td></tr></tbody></table></figure></li><li><p>不要滥用：若由于断言引发了异常 ，通常代表程序中存 在 bug</p></li><li><p>如果 Python 本身的异常能够处理就不要再使用断 言</p></li><li><p>不要使用断言来检查用戶的输入 。如对于一个数字类 型 ，如果根据用戶的设计该值的范围应该 是 2 〜 1 0 ，较好的做法是使用条件判断 ，并在不符合条件的时候输出错误提示信息</p></li><li><p>在函数调用后 ，当需要确认返回值是否合理时可以使用断 言</p></li><li><p>当条件是业务逻辑继续下去的先决条件时可以使用断言</p></li></ul><h3 id="什么是python的lazy-evaluation特性"><a class="markdownIt-Anchor" href="#什么是python的lazy-evaluation特性"></a> 什么是 Python 的 Lazy evaluation 特性？</h3><ul><li>Lazy evaluation 常被译为 “延迟计算” 或 “惰性计算 ” ，指的是仅仅在真正需要执行的时候才计算表达式的 值</li><li>对于 or 条件表达式应该将值为真可能性较高的变量写 在 or 的前 面 ， 而 and 则应该推 后</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line">t = time()</span><br><span class="line">abbreviations = [<span class="string">'cf.'</span>, <span class="string">'e.g.'</span>, <span class="string">'ex.'</span>, <span class="string">'etc.'</span>, <span class="string">'fig.'</span>, <span class="string">'i.e.'</span>, <span class="string">'Mr.'</span>, <span class="string">'vs.'</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange (<span class="number">1000000</span>):</span><br><span class="line">	<span class="keyword">for</span> w <span class="keyword">in</span> (<span class="string">'Mr.'</span>, <span class="string">'Hat'</span>, <span class="string">'is'</span>, <span class="string">'chasing'</span>, <span class="string">'the'</span>, <span class="string">'black'</span>, <span class="string">'cat'</span>, <span class="string">'.'</span>):</span><br><span class="line">		<span class="keyword">if</span> w <span class="keyword">in</span> abbreviations:</span><br><span class="line">		<span class="comment">#if w[- 1] == '.' and w in abbreviations:    #更快</span></span><br><span class="line">			<span class="keyword">pass</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">"total run time:"</span></span><br><span class="line"><span class="built_in">print</span> time()- t</span><br></pre></td></tr></tbody></table></figure><ul><li><p>使用 yield 生成数据时</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>():</span><br><span class="line">	a, b = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">	<span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">		<span class="keyword">yield</span> a</span><br><span class="line">		a, b = b, a+b</span><br><span class="line">   &gt;&gt;&gt; <span class="keyword">from</span> itertools <span class="keyword">import</span> islice</span><br><span class="line">   &gt;&gt;&gt; <span class="built_in">print</span> <span class="built_in">list</span>(islice(fib(), <span class="number">5</span>))</span><br><span class="line">   &gt;&gt;&gt; [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="python中如何进行类型检查"><a class="markdownIt-Anchor" href="#python中如何进行类型检查"></a> Python 中如何进行类型检查？</h3><ul><li><p>基于内建函数 type：但是由于基于内建类型扩展的用戶自定义类型 ， t ype 函数并不能准确返回结果和在古典类 中 ，所有类的实例 的 t ype 值都相等的问题，所以不推荐使用</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = A()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">B</span>:</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...  <span class="keyword">pass</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>... </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = B()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(a) == <span class="built_in">type</span>(b)                         <span class="comment">#</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>判断两者类型是否相等</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>推荐使用函数 isinstance 进行检查</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(<span class="number">2</span>,<span class="built_in">float</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(<span class="string">"a"</span>,(<span class="built_in">str</span>,unicode))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>((<span class="number">2</span>,<span class="number">3</span>),(<span class="built_in">str</span>,<span class="built_in">list</span>,<span class="built_in">tuple</span>))  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>①支持多种类型列表</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="python中如何获取序列的索引和值"><a class="markdownIt-Anchor" href="#python中如何获取序列的索引和值"></a> Python 中如何获取序列的索引和值？</h3><ul><li>推荐使用 enumerate ()<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">li = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>]     </span><br><span class="line"><span class="keyword">for</span> i,e <span class="keyword">in</span> <span class="built_in">enumerate</span>(li):</span><br><span class="line">	<span class="built_in">print</span> <span class="string">"index:"</span>,i,<span class="string">"element:"</span>,e</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="python中-和is的在字符串上使用的注意事项"><a class="markdownIt-Anchor" href="#python中-和is的在字符串上使用的注意事项"></a> Python 中 = = 和 is 的在字符串上使用的注意事项？</h3><ul><li>is 的作用是用来检查对象的标示符是否一致 的 ，也就是比较两个对象在内存中是否拥有同一块内存空间 ，它并不适合用来判断两个字符串是否相等</li><li>= = 才是用来检验两个对象的值是否相等 的 ，它实际调用内 部 _ <em>eq</em>_() 方法 ，因此 a == b 相当 于 a.<strong>eq</strong>(b) ，所以 == 操作符是可以被重载的 ， 而 is 不能被重 载</li></ul><h3 id="python中为什么要有节制使用fromimport语句"><a class="markdownIt-Anchor" href="#python中为什么要有节制使用fromimport语句"></a> Python 中为什么要有节制使用 from…import 语句？</h3><ul><li><p>命名空间冲突：在项目中 ，特别是大型项目中频繁地使 用 fr om a import … 的形式会增加命名空间冲突的概率从而导致出现无法预料的问题 。因此需要有节制地使用 from … import 语句</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">	<span class="built_in">print</span> <span class="string">"add in module A"</span></span><br><span class="line"><span class="comment"># b.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">	<span class="built_in">print</span> <span class="string">"math in module B"</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> a <span class="keyword">import</span> add</span><br><span class="line"><span class="keyword">from</span> b <span class="keyword">import</span> add</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">	math()</span><br></pre></td></tr></tbody></table></figure></li><li><p>循环嵌套导入问题</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c1.py:</span><br><span class="line"><span class="keyword">from</span> c2 <span class="keyword">import</span> g</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">x</span>():</span><br><span class="line">	Pass</span><br><span class="line">c2.py:</span><br><span class="line"><span class="keyword">from</span> c1 <span class="keyword">import</span> x</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">g</span>():</span><br><span class="line">	Pass</span><br><span class="line"><span class="comment">#&gt;&gt;无论运行上面哪一个文件都会抛出ImportError异常</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="python的i1与i的区别"><a class="markdownIt-Anchor" href="#python的i1与i的区别"></a> Python 的 i+=1 与 ++i 的区别？</h3><ul><li>++i 在 Python 中语法上是合法的 ，但并不是我们理解的通常意义上的自增操 作</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>+<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>++<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>- <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>- <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>- - <span class="number">2</span> <span class="comment">#负负得正</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span></span><br></pre></td></tr></tbody></table></figure><h3 id="python如何使用else简化循环"><a class="markdownIt-Anchor" href="#python如何使用else简化循环"></a> Python 如何使用 else 简化循环？</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查找素数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_prime2</span>(<span class="params">n</span>):</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">2</span>, n):</span><br><span class="line">		<span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="number">2</span>, i):</span><br><span class="line">			<span class="keyword">if</span> i % j == <span class="number">0</span>:</span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="built_in">print</span> <span class="string">'%d is a prime number'</span>%i</span><br></pre></td></tr></tbody></table></figure><ul><li>当循 环 “自然” 终结 （循环条件为假 ） 时 e lse 从句会被执行一次 ，而当循环是由 break 语句中断 时 ， e lse 子句就不被执 行</li></ul><h3 id="python中异常处理的原则"><a class="markdownIt-Anchor" href="#python中异常处理的原则"></a> Python 中异常处理的原则？</h3><ul><li>注意异常的粒 度 ，不推荐在 try 中放入过多的代码：在 t ry 中放入过多的代码带来的问题是如果程序中抛出异 常 ，将会较难定位 ， 给 debug 和修复带来不 便 ，因此应尽量只在可能抛出异常的语句块前面放 入 try 语句</li><li>谨慎使用单独 的 except 语句处理所有异常 ，最好能定位具体的异常</li><li>注意异常捕获的顺 序 ，在合适的层次处理异常：推荐的方法是将继承结构中子类异常在前面的 except 语句中抛 出 ，而父类异常在后面 的 e xcept 语句抛出 。这样做的原因是当 try 块中有异常发生的时候 ，解释器根 据 except 声明的顺序进行匹 配 ，在第一个匹配的地方便立即处理该异 常 。如果将层次较高的异常类在前面进行捕获 ，往往不能精确地定位异常发生的具体位置</li><li>使用更为友好的异常信 息 ，遵守异常参数的规 范</li></ul><h3 id="python中使用finally的注意事项"><a class="markdownIt-Anchor" href="#python中使用finally的注意事项"></a> Python 中使用 finally 的注意事项？</h3><ul><li><p>fi n a l l y 语句经常被用来做一些清理工作 ，如打开一个文 件 ，抛出异常后在 fi n a l l y 语句中对文件句柄进行关闭 等</p></li><li><p>因无法捕获异常导致 finally 被执行： 当 t r y 块中发生异常的时 候 ，如果 在 e x c e p t 语句中找不到对应的异常处 理 ，异常将会被临时保存起 来 ， 当 fi n a l l y 执行完毕的时 候 ，临时保存的异常将会再次被抛出 ，但如 果 fi n a l l y 语句中产生了新的异常或者执行 了 r e t u r n 或者 b r e a k 语句 ，那么临时保存的异常将会被丢失 ，从而导致异常屏蔽</p></li><li><p>finally 中使用 return 紊乱：对于第二个调 用 R e t ur n T e s t (2) 为什么也返回 - 1 呢 ？这是因为 a &gt; 0 ，会执 行 e l s e 分支 ，但由于存 在 fi n a l l y 语句 ，在执 行 e l s e 语句 的 r e t u r n a 语句之前会先执行 fi n a l l y 中的语句 ，此时由于 fi n a l l y 语句中有 r e t u r n - 1 ，程序直接返回 了 ，所以永远不会返回 a 对应的值 2</p></li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ReturnTest</span>(<span class="params">a</span>): </span><br><span class="line">	<span class="keyword">try</span>:</span><br><span class="line">		<span class="keyword">if</span> a &lt;=<span class="number">0</span>: </span><br><span class="line">			<span class="keyword">raise</span> ValueError(<span class="string">"data can not be negative"</span>)</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">return</span> a</span><br><span class="line">	<span class="keyword">except</span> ValueError <span class="keyword">as</span> e: </span><br><span class="line">		<span class="built_in">print</span> e</span><br><span class="line">	<span class="keyword">finally</span>:</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">"The End!"</span>) </span><br><span class="line">		<span class="keyword">return</span> - <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span> ReturnTest(<span class="number">0</span>) <span class="built_in">print</span> ReturnTest(<span class="number">2</span>) <span class="comment"># - 1,- 1</span></span><br></pre></td></tr></tbody></table></figure><h3 id="python中使用none的注意事项"><a class="markdownIt-Anchor" href="#python中使用none的注意事项"></a> Python 中使用 None 的注意事项？</h3><ul><li>常量 None 的特殊性体现在它既不 是 0 、 F alse ，也不是空字符 串 ，它就是一个空值对 象 。其数据类型为 Non eType ，遵循单例模式 ，是唯一的 ，因而不能创建 N one 对象 。所有赋值 为 Non e 的变量都相等 ，并且 None 与任何其他非 N one 的对象比较结果都 为 F alse</li></ul><h3 id="python中使用join和连接字符串的差异"><a class="markdownIt-Anchor" href="#python中使用join和连接字符串的差异"></a> Python 中使用 join 和 + 连接字符串的差异？</h3><ul><li>join () 方法的效率要高于 + 操作 符 ，特别是字符串规模较大的时 候 ， join () 方法的优势更为明显</li><li>+ 操作符连接字符串会不断申请内存空间</li><li>当用 join () 方法连接字符串的时候 ，会首先计算需要申请的总的内存空间 ，然后一次性申请所需内存并将字符序列中的每一个元素复制到内存中 去 ，所以 join 操作的时间复杂度 为 O (n)</li></ul><h3 id="python中格式化字符串的方法"><a class="markdownIt-Anchor" href="#python中格式化字符串的方法"></a> Python 中格式化字符串的方法？</h3><ul><li>% 操作符根据转换说明符所规定的格式返回一串格式化后的字符串 ，转换说明符的基本形式 为 ： % [转换标记] 宽度 [. 精确 度 ] 转换类型<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">#直接格式化字符或者数值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> <span class="string">"your score is %06.1f"</span> % <span class="number">9.5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>your score <span class="keyword">is</span> <span class="number">0009.5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#以元组的形式格式化</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>itemname = <span class="string">'circumference'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>radius = <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> <span class="string">"the %s of a circle with radius %f is %0.3f "</span> %(itemname,radius,math.p</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i*radius*<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>the circumference of a circle <span class="keyword">with</span> radius <span class="number">3.000000</span> <span class="keyword">is</span> <span class="number">18.850</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="comment">#以字典的形式格式化</span></span><br><span class="line">&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>itemdict = {<span class="string">'itemname'</span>:<span class="string">'circumference'</span>,<span class="string">'radius'</span>:<span class="number">3</span>,<span class="string">'value'</span>:math.pi*radius*<span class="number">2</span>}</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> <span class="string">"the %(itemname)s of a circle with radius %(radius)f is  %(value)0.3f</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; "</span> % itemdict</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>the circumference of a circle <span class="keyword">with</span> radius <span class="number">3.000000</span> <span class="keyword">is</span>  <span class="number">18.850</span></span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure></li><li>.format 方式格式化字符串的基本语法为 ： [填充 符] 对 ⻬方式 ] [符号 ][#][0][宽度 ][,][. 精确 度 ][转换类型 ] 。其中填充符可以是除了 “ { ” 和 “ } ” 符号之外的任意符 号</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用符号位置</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"The number {0:,} in hex is: {0:#x},the number {1} in oct is {1:#o}"</span>.<span class="built_in">format</span>(</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4746</span>,<span class="number">45</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'The number 4,746 in hex is: 0x128a,the number 45 in oct is 0o55'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#使用名称</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> <span class="string">"the max number is {max},the min number is {min},the average number is</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; {average:0.3f}"</span>.<span class="built_in">format</span>(<span class="built_in">max</span>=<span class="number">189</span>,<span class="built_in">min</span>=<span class="number">12.6</span>,average=<span class="number">23.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>the <span class="built_in">max</span> number <span class="keyword">is</span> <span class="number">189</span>,the <span class="built_in">min</span> number <span class="keyword">is</span> <span class="number">12.6</span>,the average number <span class="keyword">is</span> <span class="number">23.500</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#通过属性</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">Customer</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...     <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,gender,phone</span>):</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...             <span class="variable language_">self</span>.name = name</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...             <span class="variable language_">self</span>.gender = gender</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...             <span class="variable language_">self</span>.phone = phone</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...     <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>): </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...             <span class="keyword">return</span> <span class="string">'Customer({self.name},{self.gender},{self.phone})'</span>.<span class="built_in">format</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="variable language_">self</span>=<span class="variable language_">self</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>(Customer(<span class="string">"Lisa"</span>,<span class="string">"Female"</span>,<span class="string">"67889"</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Customer(Lisa,Female,67889)'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#格式化元组的具体项</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>point = (<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'X:{0[0]};Y:{0[1]}'</span>.<span class="built_in">format</span>(point)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'X:1;Y:3'</span></span><br></pre></td></tr></tbody></table></figure><ul><li>优先推荐使用.format 作为连接字符串的首要方法，理由:<ul><li>理由 一 ： format 方式在使用上 较 % 操作符更为灵 活 。使用 f ormat 方式 时 ，参数的顺序与格式化的顺序不必完全相同</li><li>理由 二 ： format 方式可以方便地作为参数传 递</li><li>理由 三 ： % 最终会被 .format 方式所代 替</li><li>理由 四 ： % 方法在某些特殊情况下使用时需要特别小 心<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; itemname =(<span class="string">"mouse"</span>,<span class="string">"mobilephone"</span>,<span class="string">"cup"</span>)</span><br><span class="line">&gt;</span><br><span class="line">&gt;&gt; &gt; <span class="built_in">print</span> <span class="string">"itemlist are %s"</span> %(itemname)        <span class="comment">#</span></span><br><span class="line">&gt;&gt; &gt; 使用%</span><br><span class="line">&gt;&gt; &gt; 方法格式化元组</span><br><span class="line">&gt;&gt; &gt; Traceback (most recent call last):</span><br><span class="line">&gt;&gt; &gt; File <span class="string">""</span>, line <span class="number">1</span>, <span class="keyword">in</span> </span><br><span class="line">&gt;&gt; &gt; TypeError: <span class="keyword">not</span> <span class="built_in">all</span> arguments converted during string formatting</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul><h3 id="如何区别对待python的可变对象及不可变对象"><a class="markdownIt-Anchor" href="#如何区别对待python的可变对象及不可变对象"></a> 如何区别对待 Python 的可变对象及不可变对象？</h3><ul><li>Python 中一切皆对象 ，每一个对象都有一个唯一的标示 符 （ id () ） 、类型 （ type () ）以及 值 。对象根据其值能否修改分为可变对象和不可变对象 ，其中数字 、字符 串 、元组属于不可变对 象 ，字典以及列表 、字节数组属于可变对象</li><li>不可变对象不可修改：字符串为不可变对 象 ，任何对字符串中某个字符的修改都会抛出异常</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">teststr = <span class="string">"I am a pytlon string"</span></span><br><span class="line">teststr[<span class="number">11</span>]=<span class="string">'h'</span></span><br><span class="line"><span class="built_in">print</span> teststr</span><br></pre></td></tr></tbody></table></figure><ul><li><p>对可变对象进行修改，会影响原值</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list2 = list1</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1.append(<span class="string">'d'</span>) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list2              </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>] </span><br></pre></td></tr></tbody></table></figure></li><li><p>在将可变对象作为函数参数时，最好的方法是传入 None 作为默认参数，在创建对象时候动态生成可变对象</p></li></ul><h3 id="python中推荐对-和进行一致的容器初始化方式"><a class="markdownIt-Anchor" href="#python中推荐对-和进行一致的容器初始化方式"></a> Python 中推荐对 []、() 和 {} 进行一致的容器初始化方式？</h3><ul><li><p>支持多重嵌套</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nested_list = [[<span class="string">'Hello'</span>, <span class="string">'World'</span>], [<span class="string">'Goodbye'</span>, <span class="string">'World'</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nested_list = [[s.upper() <span class="keyword">for</span> s <span class="keyword">in</span> xs] <span class="keyword">for</span> xs <span class="keyword">in</span> nested_list]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> nested_list</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[[<span class="string">'HELLO'</span>, <span class="string">'WORLD'</span>], [<span class="string">'GOODBYE'</span>, <span class="string">'WORLD'</span>]]</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><blockquote></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 支持多重迭代</span><br><span class="line">	```python</span><br><span class="line">    &gt;&gt;&gt; [(a,b) for a in ['a','1',1,2] for b in ['1',3,4,'b'] if a != b]</span><br><span class="line">    &gt;&gt;&gt; [('a', '1'), ('a', 3), ('a', 4), ('a', 'b'), ('1', 3), ('1', 4), ('1', 'b'), (1,</span><br><span class="line">    &gt;&gt;&gt; '1'), (1, 3), (1, 4), (1, 'b'), (2, '1'), (2, 3), (2, 4), (2, 'b')]</span><br><span class="line">    &gt;</span><br></pre></td></tr></tbody></table></figure><blockquote></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- 解析语句支持函数</span><br><span class="line">	```python</span><br><span class="line">    &gt;&gt;&gt; def f(v):</span><br><span class="line">    &gt;&gt;&gt; ...     if v%2 == 0:</span><br><span class="line">    &gt;&gt;&gt; ...         v = v2</span><br><span class="line">    &gt;&gt;&gt; ...     else:</span><br><span class="line">    &gt;&gt;&gt; ...         v = v+1</span><br><span class="line">    &gt;&gt;&gt; ...     return v</span><br><span class="line">    &gt;&gt;&gt; ...</span><br><span class="line">    &gt;&gt;&gt; [f(v) for v in [2,3,4,- 1] if v&gt;0]      #表达式可以是函数</span><br><span class="line">    &gt;&gt;&gt; [4, 4, 16]</span><br><span class="line">    &gt;&gt;&gt; [v2 if v%2 ==0 else v+1 for v in [2,3,4,- 1] if v&gt;0]</span><br><span class="line">    &gt;&gt;&gt; [4, 4, 16]</span><br></pre></td></tr></tbody></table></figure></li><li><p>迭代对象可以是任意迭代对象</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> fh = <span class="built_in">open</span>(<span class="string">"test.txt"</span>, <span class="string">"r"</span>)</span><br><span class="line">result = [i <span class="keyword">for</span> i <span class="keyword">in</span> fh <span class="keyword">if</span> <span class="string">"abc"</span> <span class="keyword">in</span> i]  <span class="comment"># 文件句柄可以当做可迭代对象</span></span><br><span class="line"><span class="built_in">print</span> result</span><br></pre></td></tr></tbody></table></figure></li><li><p>除了列表可以使用列表解析的语法之 外 ，其他几种内置的数据结构也支持 ，比如元组 （ tuple ）的初始化语法 是 （ e xpr for iter_item in iterable if cond_expr ） ，而集 合 （ s et ）的初始化语法 是 {expr for iter_item in iterable if cond_expr} ，甚至字典 （ dic t ）也有类似的语 法 {expr1, expr2 for iter_item in iterable if cond_expr} 。它们的使用类似列表解 析</p></li></ul><h3 id="cc与python的辅助差异"><a class="markdownIt-Anchor" href="#cc与python的辅助差异"></a> C/C++ 与 Python 的辅助差异？</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a =<span class="number">5</span>, b = a, b=<span class="number">7</span>;</span><br></pre></td></tr></tbody></table></figure><ul><li>C/C++ 中当执行 b=a 的时 候 ，在内存中申请一块内存并将 a 的值复制到该内存 中 ；当执 行 b =7 之后是将 b 对应的值 从 5 修改 为 7</li><li>Python 中赋值并不是复制 ， b =a 操作使得 b 与 a 引用同一个对 象 。 而 b=7 则是 将 b 指向对象 7</li></ul><h3 id="python的函数传参是传值还是传引用"><a class="markdownIt-Anchor" href="#python的函数传参是传值还是传引用"></a> Python 的函数传参是传值还是传引用？</h3><ul><li>Python 的函数传参应该是传对 象 （ c all by object ）或者说传对象的引 用 （ call- by- object- reference ）</li><li>函数参数在传递的过程中将整个对象传入 ，对可变对象的修改在函数外部以及内部都 可 ⻅ ，调用者和被调用者之间共享这个对象 ，而对于不可变对象 ，由于并不能真正被修改 ，因此 ，修改往往是通过生成一个新对象然后赋值来实现的</li></ul><h3 id="python使用默认参数的风险"><a class="markdownIt-Anchor" href="#python使用默认参数的风险"></a> Python 使用默认参数的风险？</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">appendtest</span>(<span class="params">newitem,lista = []</span>):              <span class="comment">#默认参数为空列表</span></span><br><span class="line">    …    <span class="built_in">print</span> <span class="built_in">id</span>(lista)</span><br><span class="line">    …    lista.append(newitem)</span><br><span class="line">    …    <span class="built_in">print</span> <span class="built_in">id</span>(lista)</span><br><span class="line">    …    <span class="keyword">return</span> lista</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>appendtest(<span class="string">'a'</span>,[<span class="string">'b'</span>,<span class="number">2</span>,<span class="number">4</span>,[<span class="number">1</span>,<span class="number">2</span>]])</span><br><span class="line">    <span class="number">39644216</span></span><br><span class="line">    <span class="number">39644216</span></span><br><span class="line">    [<span class="string">'b'</span>, <span class="number">2</span>, <span class="number">4</span>, [<span class="number">1</span>, <span class="number">2</span>], <span class="string">'a'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>appendtest(<span class="number">1</span>)</span><br><span class="line">    <span class="number">39022960</span></span><br><span class="line">    <span class="number">39022960</span></span><br><span class="line">    [<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>appendtest.func_defaults                     <span class="comment">#第一次调用后默认参数变为[1]</span></span><br><span class="line">    ([<span class="number">1</span>],)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>appendtest(<span class="string">'a'</span>)</span><br><span class="line">    <span class="number">39022960</span></span><br><span class="line">    <span class="number">39022960</span></span><br><span class="line">    [<span class="number">1</span>, <span class="string">'a'</span>]</span><br></pre></td></tr></tbody></table></figure><ul><li><p>当解释器执行 de f 的时 候 ，默认参数也会被计 算 ，并存在函数的 .fu nc_defaults 属性 中 。由于 Python 中函数参数传递的是对 象 ，可变对象在调用者和被调用者之间共 享 ，因此当首次调 用 appendtest (1) 的时 候 ， [ ] 变为 [ 1] ，而再次调用的时候由于默认参数不会重新计算 ， 在 [ 1] 的基础上便变为了 [1, ‘ a ’ ]</p></li><li><p>如果不想让默认参数所指向的对象在所有的函数调用中被共享，而是在函数调用的过程中动态生成，可以在定义的时候使用 None 对象作为占位符</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">appendtest</span>(<span class="params">newitem,lista = <span class="literal">None</span></span>): <span class="comment">#默认参数改为None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...    <span class="keyword">if</span> lista <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...          lista = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...    lista.append(newitem)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...    <span class="keyword">return</span> lista</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>...</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="如何认识python的变长参数"><a class="markdownIt-Anchor" href="#如何认识python的变长参数"></a> 如何认识 Python 的变长参数？</h3><ul><li>Python 支持可变 ⻓度的参数列表 ，可以通过在函数定义的时候使用 *args 和 kwargs 这两个特殊语法来实现 （ a rgs 和 k wargs 可以替换成任意你喜欢的变量名 ）</li><li>使用 *args 来实现可变参数列 表 ： * args 用于接受一个包装为元组形式的参数列表来传递非关键字参 数 ，参数个数可以任意</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">SumFun</span>(<span class="params">*args</span>):</span><br><span class="line">  result = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> x <span class="keyword">in</span> args[<span class="number">0</span>:]:</span><br><span class="line">      result += x</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line"><span class="built_in">print</span> SumFun(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span> SumFun(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span> SumFun()</span><br></pre></td></tr></tbody></table></figure><ul><li><p>使用 kwargs 接受字典形式的关键字参数列表 ，其中字典的键值对分别表示不可变参数的参数名和 值</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">category_table</span>(<span class="params">kwargs</span>):</span><br><span class="line">	<span class="keyword">for</span> name, value <span class="keyword">in</span> kwargs.items():</span><br><span class="line">		<span class="built_in">print</span> <span class="string">'{0} is a kind of {1}'</span>.<span class="built_in">format</span>(name, value)</span><br><span class="line">category_table(apple = <span class="string">'fruit'</span>, carrot = <span class="string">'vegetable'</span>,Python = <span class="string">'programming language'</span>)</span><br><span class="line">category_table(BMW = <span class="string">'Car'</span>)</span><br></pre></td></tr></tbody></table></figure></li><li><p>同时使用普通参数、默认参数和可变参数<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">set_axis</span>(<span class="params">x,y, xlabel=<span class="string">"x"</span>, ylabel=<span class="string">"y"</span>, args, *kwargs</span>):</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line">set_axis(<span class="number">2</span>,<span class="number">3</span>, <span class="string">"test1"</span>, <span class="string">"test2"</span>,<span class="string">"test3"</span>, my_kwarg=<span class="string">"test3"</span>)</span><br><span class="line">set_axis(<span class="number">2</span>,<span class="number">3</span>, my_kwarg=<span class="string">"test3"</span>)</span><br><span class="line">set_axis(<span class="number">2</span>,<span class="number">3</span>, <span class="string">"test1"</span>,my_kwarg=<span class="string">"test3"</span>)</span><br><span class="line">set_axis(<span class="string">"test1"</span>, <span class="string">"test2"</span>, xlabel=<span class="string">"new_x"</span>,ylabel = <span class="string">"new_y"</span>, my_kwarg=<span class="string">"test3"</span>)</span><br><span class="line">set_axis(<span class="number">2</span>,<span class="string">"test1"</span>, <span class="string">"test2"</span>,ylabel = <span class="string">"new_y"</span>, my_kwarg=<span class="string">"test3"</span>)</span><br></pre></td></tr></tbody></table></figure><p></p><ul><li>首先满足普通参数 ，然后是默认参 数 。如果剩余的参数个数能够覆盖所有的默认参数 ，则默认参数会使用传递时候的值 ，如标 注 ①处的函数在调用的时候 x label 和 y label 的值分别 为 “test1” 和 “ test2 ” ；</li><li>如果剩余参数个数不够 ，则尽最大可能满足默认参数的值 ，标注 ② 中 x label 值为 “t est1” ， 而 y label 则使用默认参 数 y</li><li>除此之外其余的参数除了键值对以外所有的参数都将作 为 args 的可变参 数 ， kwargs 则与键值对对</li></ul></li></ul><h3 id="为什么要慎用python的变长参数"><a class="markdownIt-Anchor" href="#为什么要慎用python的变长参数"></a> 为什么要慎用 Python 的变长参数？</h3><ul><li>1 ）使用过于灵活：在混合普通参数或者默认参数的情况 下 ， 变 ⻓参数意味着这个函数的签名不够清晰 ，存在多种调用方式</li><li>2 ）如果一个函数的参数列表很 ⻓ ，虽然可以通过使用 *ar gs 和 kwargs 来简化函数的定义 ，但通常这意味着这个函数可以有更好的实现方 式 ，应该被重 构</li></ul><h3 id="python中str和repr的区别"><a class="markdownIt-Anchor" href="#python中str和repr的区别"></a> Python 中 str 和 repr 的区别？</h3><ul><li>函数 str () 和 repr () 都可以将 Python 中的对象转换为字符串 ，它们的使用以及输出都非常相似</li></ul></div><footer class="post-footer"><div class="reward-container"><div>请我一杯咖啡吧！</div><button>赞赏</button><div class="post-reward"><div><img src="/images/wechatpay.png" alt="Shaogui 微信"> <span>微信</span></div><div><img src="/images/alipay.png" alt="Shaogui 支付宝"> <span>支付宝</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Shaogui</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://www.shaogui.life/posts/241859532.html" title="编写高质量代码 - 改善 Python 程序的 91 个建议">https://www.shaogui.life/posts/241859532.html</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="followme"><span>欢迎关注我的其它发布渠道</span><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="https://www.zhihu.com/people/mu-zhi-zhi-tian"><span class="icon"><i class="fab fa-zhihu"></i> </span><span class="label">知乎</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="/atom.xml"><span class="icon"><i class="fa fa-rss"></i> </span><span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/201288329.html" rel="prev" title="ResNeXt：Aggregated Residual Transformations for Deep Neural Networks"><i class="fa fa-angle-left"></i> ResNeXt：Aggregated Residual Transformations for Deep Neural Networks</a></div><div class="post-nav-item"><a href="/posts/4060619936.html" rel="next" title="在 windows 上使用 nuitka 打包 Python 项目">在 windows 上使用 nuitka 打包 Python 项目 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Shaogui</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">1.9m</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">28:48</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="reading-progress-bar"></div><a href="https://github.com/WuShaogui" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"neutral","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script><script src="/js/third-party/tags/mermaid.js"></script><script src="/js/third-party/pace.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"WuShaogui/wushaogui.github.io","issue_term":"pathname","theme":"github-light"}</script><script src="/js/third-party/comments/utterances.js"></script></body></html>