<!DOCTYPE html><html lang="zh-CN"><head><style type="text/css">.douban-card-block{display:flex;justify-content:center;align-items:center;width:100%;max-height:400px}.douban-card{display:flex;margin:30px 10px;padding:15px;border-radius:15px;position:relative;justify-content:center;align-items:center;overflow:hidden;color:#faebd7;text-decoration:none}.douban-card:hover{text-decoration:none}.douban-card-bgimg{position:absolute;width:115%;height:115%;filter:blur(15px) brightness(.6);background-size:100%;background-position:center;background-repeat:no-repeat}.douban-card-img{position:relative;height:130px;width:80px;background-size:100%;background-position:center;background-repeat:no-repeat}.douban-card-left:hover .douban-card-img{filter:blur(5px) brightness(.6);transform:perspective(800px) rotateX(180deg)}.douban-card-left .douban-card-img{transition:all .5s ease}.douban-card-left{position:relative;display:flex;flex-direction:column;align-items:center}.douban-card-left .douban-card-status{height:130px;width:80px;text-align:center;font-weight:700;position:absolute;left:0;top:30%;transform:rotateX(180deg);backface-visibility:hidden;transition:all .5s ease}.douban-card-left:hover .douban-card-status{transform:perspective(800px) rotateX(0)}.douban-card-right{position:relative;display:flex;flex-direction:column;margin-left:12px;font-size:16px;font-family:"Courier New",Courier,monospace;line-height:1.3;color:#faebd7}.douban-card-item{margin-top:4px}</style><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=PT+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"www.shaogui.life","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"flat","show_result":true},"fold":{"enable":true,"height":200},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="本例子设计一个场景：熟悉某地的 “百事通”+ 旅游经理，共同为游客设计旅游计划，输入条件是：目的地、旅游天数、预算，输出完成旅游计划"><meta property="og:type" content="article"><meta property="og:title" content="基于 CrewAI 打造旅游助手"><meta property="og:url" content="https://www.shaogui.life/posts/3025363780.html"><meta property="og:site_name" content="年轻人起来冲"><meta property="og:description" content="本例子设计一个场景：熟悉某地的 “百事通”+ 旅游经理，共同为游客设计旅游计划，输入条件是：目的地、旅游天数、预算，输出完成旅游计划"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2024-10-31T04:00:34.000Z"><meta property="article:modified_time" content="2025-01-18T10:52:37.874Z"><meta property="article:author" content="Shaogui"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.shaogui.life/posts/3025363780.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.shaogui.life/posts/3025363780.html","path":"posts/3025363780.html","title":"基于 CrewAI 打造旅游助手"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>基于 CrewAI 打造旅游助手 | 年轻人起来冲</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><link rel="alternate" href="/atom.xml" title="年轻人起来冲" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">年轻人起来冲</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">77</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">70</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">544</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Shaogui" src="/images/avatar-2023.png"><p class="site-author-name" itemprop="name">Shaogui</p><div class="site-description" itemprop="description">害怕失败是本能，勇敢面对才是本事</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">544</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">70</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">77</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/WuShaogui" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;WuShaogui" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/mu-zhi-zhi-tian" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;mu-zhi-zhi-tian" rel="noopener me" target="_blank"><i class="fab fa-zhihu fa-fw"></i>知乎</a></span></div><div class="cc-license animated" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div><div class="back-to-top animated" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> 链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://manaai.cn/" title="http:&#x2F;&#x2F;manaai.cn&#x2F;" rel="noopener" target="_blank">神力AI</a></li></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.shaogui.life/posts/3025363780.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar-2023.png"><meta itemprop="name" content="Shaogui"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="年轻人起来冲"><meta itemprop="description" content="害怕失败是本能，勇敢面对才是本事"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="基于 CrewAI 打造旅游助手 | 年轻人起来冲"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">基于 CrewAI 打造旅游助手</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2024-10-31 12:00:34" itemprop="dateCreated datePublished" datetime="2024-10-31T12:00:34+08:00">2024-10-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-01-18 18:52:37" itemprop="dateModified" datetime="2025-01-18T18:52:37+08:00">2025-01-18</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/2-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">2-深度学习</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/2-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/LLM%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88%E6%8C%87%E5%8D%97/" itemprop="url" rel="index"><span itemprop="name">LLM开发工程师指南</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/2-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/LLM%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88%E6%8C%87%E5%8D%97/CrewAI/" itemprop="url" rel="index"><span itemprop="name">CrewAI</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>15k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>14 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>本例子设计一个场景：熟悉某地的 “百事通”+ 旅游经理，共同为游客设计旅游计划，输入条件是：目的地、旅游天数、预算，输出完成旅游计划</p><span id="more"></span><p>按照 CrewAI 的架构，设计如下：</p><ul><li>百事通 (Agent)-&gt; 互联网检索某地景点 (Task)</li><li>旅游经理 (Agent)-&gt; 根据某地特色景点 + 天气，设计旅游计划 (Task)</li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> api_key <span class="keyword">import</span> GAODE_WEATHER_API_KEY</span><br><span class="line"><span class="keyword">from</span> crewai.tools <span class="keyword">import</span> tool</span><br><span class="line"><span class="meta">@tool</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_weather</span>(<span class="params">city_name:<span class="built_in">str</span></span>)-&gt;<span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">'''根据输入的城市名，使用高德接口查询当地天气'''</span></span><br><span class="line">    <span class="comment"># 构建请求URL</span></span><br><span class="line">    url = <span class="string">f'https://restapi.amap.com/v3/weather/weatherInfo?key=<span class="subst">{GAODE_WEATHER_API_KEY}</span>&amp;city=<span class="subst">{city_name}</span>&amp;extensions=all'</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 发送GET请求</span></span><br><span class="line">        response = requests.get(url)</span><br><span class="line">        <span class="comment"># 检查请求是否成功</span></span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="comment"># 解析响应内容</span></span><br><span class="line">            data = response.json()</span><br><span class="line">            <span class="comment"># 检查API响应状态</span></span><br><span class="line">            <span class="keyword">if</span> data.get(<span class="string">'status'</span>) == <span class="string">'1'</span> <span class="keyword">and</span> data.get(<span class="string">'infocode'</span>) == <span class="string">'10000'</span>:</span><br><span class="line">                <span class="keyword">return</span> data  <span class="comment"># 返回天气数据</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> {}  <span class="comment"># 返回空结果，因为API返回了错误信息</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> {}  <span class="comment"># 返回空结果，因为HTTP状态码不是200</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"An error occurred: <span class="subst">{e}</span>"</span>)</span><br><span class="line">        <span class="keyword">return</span> {}  <span class="comment"># 返回空结果，因为请求过程中发生了异常</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> api_key <span class="keyword">import</span> SERPER_API_KEY,TAVILY_API_KEY</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">"SERPER_API_KEY"</span>] = SERPER_API_KEY  <span class="comment"># serper.dev API key</span></span><br><span class="line"><span class="keyword">import</span> litellm</span><br><span class="line">litellm.suppress_debug_info=<span class="literal">True</span></span><br><span class="line"><span class="comment"># 设置ollama模型</span></span><br><span class="line"><span class="comment"># os.environ["OPENAI_API_BASE"] = 'http://192.168.3.155:11434' </span></span><br><span class="line"><span class="comment"># os.environ["OPENAI_MODEL_NAME"] ='ollama_chat/qwen2.5:latest'</span></span><br><span class="line"><span class="comment"># os.environ["OPENAI_API_KEY"] ='EMPTY'</span></span><br><span class="line"><span class="keyword">from</span> crewai.llm <span class="keyword">import</span> LLM</span><br><span class="line">llm=LLM(model=<span class="string">"ollama_chat/qwen2.5:latest"</span>, base_url=<span class="string">"http://192.168.3.155:11434"</span>)</span><br><span class="line">embedder_config={</span><br><span class="line">        <span class="string">"provider"</span>: <span class="string">"ollama"</span>,</span><br><span class="line">        <span class="string">"config"</span>: {</span><br><span class="line">            <span class="string">"model"</span>: <span class="string">'quentinz/bge-large-zh-v1.5:latest'</span>,</span><br><span class="line">            <span class="string">"base_url"</span>: <span class="string">'http://192.168.3.155:11434'</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">from</span> crewai_tools <span class="keyword">import</span> SerperDevTool</span><br><span class="line">search_tool = SerperDevTool(n_results=<span class="number">5</span>)</span><br><span class="line">tools=[search_tool,get_weather]</span><br><span class="line"><span class="comment"># from crewai_tools import LlamaIndexTool</span></span><br><span class="line"><span class="comment"># from llama_index.tools.tavily_research import TavilyToolSpec </span></span><br><span class="line"><span class="comment"># tavily_research_tool=TavilyToolSpec(api_key=TAVILY_API_KEY)</span></span><br><span class="line"><span class="comment"># research_tools=tavily_research_tool.to_tool_list()</span></span><br><span class="line"><span class="comment"># tools = [LlamaIndexTool.from_tool(t) for t in research_tools]</span></span><br><span class="line"><span class="comment"># 创建一个带有内存和冗长模式的高级研究员代理人</span></span><br><span class="line"><span class="keyword">from</span> crewai <span class="keyword">import</span> Agent</span><br><span class="line">manager = Agent(</span><br><span class="line">    role=<span class="string">'旅行社经理'</span>,</span><br><span class="line">    goal=<span class="string">'针对 {destination} 设计旅游计划'</span>,</span><br><span class="line">    verbose=<span class="literal">True</span>,</span><br><span class="line">    memory=<span class="literal">True</span>,</span><br><span class="line">    backstory=(</span><br><span class="line">        <span class="string">"专业的旅行社经理，根据用户的需求，设计客户满意的旅行计划"</span></span><br><span class="line">    ),</span><br><span class="line">    llm=llm,</span><br><span class="line">    embedder_config=embedder_config,</span><br><span class="line">    tools=tools,</span><br><span class="line">    allow_delegation=<span class="literal">True</span>,</span><br><span class="line">    max_rpm=<span class="number">5</span>,</span><br><span class="line">    max_execution_time=<span class="number">15</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># 创建一个作家代理人，具有自定义工具和委派能力</span></span><br><span class="line">writer = Agent(</span><br><span class="line">    role=<span class="string">'百事通'</span>,</span><br><span class="line">    goal=<span class="string">'输出 {destination} 的游玩攻略'</span>,</span><br><span class="line">    verbose=<span class="literal">True</span>,</span><br><span class="line">    memory=<span class="literal">True</span>,</span><br><span class="line">    backstory=(</span><br><span class="line">        <span class="string">"长期在{destination}居住，对当地历史及人文景观十分了解，经常编写当地的游玩攻略"</span></span><br><span class="line">    ),</span><br><span class="line">    llm=llm,</span><br><span class="line">    embedder_config=embedder_config,</span><br><span class="line">    tools=tools,</span><br><span class="line">    allow_delegation=<span class="literal">False</span>,</span><br><span class="line">    max_rpm=<span class="number">5</span>,</span><br><span class="line">    max_execution_time=<span class="number">30</span>,</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> crewai <span class="keyword">import</span> Task</span><br><span class="line"><span class="comment"># 研究任务</span></span><br><span class="line">research_task = Task(</span><br><span class="line">  description=(</span><br><span class="line">    <span class="string">"编写关于 {destination} 的游玩攻略，比如历史、人文、饮食等"</span></span><br><span class="line">    <span class="string">"你必须从本地人的角度去考虑"</span></span><br><span class="line">  ),</span><br><span class="line">  expected_output=<span class="string">'整理输出{destination} 游玩推荐项目及原因'</span>,</span><br><span class="line">  tools=tools,</span><br><span class="line">  agent=writer,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># 具有语言模型配置的写作任务</span></span><br><span class="line">write_task = Task(</span><br><span class="line">  description=(</span><br><span class="line">    <span class="string">"根据旅游天数：{day}、预算：{budget}，撰写一篇关于 {destination} 的旅游攻略"</span></span><br><span class="line">    <span class="string">"如果提供了旅游倾向：{tendency}，必须则优先满足，并且根据天气情况安排旅游项目"</span></span><br><span class="line">    <span class="string">"文章首先输出旅游时间内的天气情况，然后再输出攻略"</span></span><br><span class="line">    <span class="string">"文章通俗易懂，平易近人，可以适当加一个emoj表情"</span></span><br><span class="line">  ),</span><br><span class="line">  expected_output=<span class="string">'输出定制化的旅游攻略，格式为 markdown。'</span>,</span><br><span class="line">  tools=tools,</span><br><span class="line">  agent=manager,</span><br><span class="line">  async_execution=<span class="literal">False</span>,</span><br><span class="line">  output_file=<span class="string">'{destination}-travel-plan.md'</span>  <span class="comment"># 输出定制的示例</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> crewai <span class="keyword">import</span> Crew, Process</span><br><span class="line"><span class="comment"># 以一些增强配置形成以技术为中心的团队</span></span><br><span class="line">crew = Crew(</span><br><span class="line">    agents=[writer,manager],</span><br><span class="line">    tasks=[research_task,write_task],</span><br><span class="line">    process=Process.sequential,  <span class="comment"># 可选：顺序任务执行是默认设置</span></span><br><span class="line">    memory=<span class="literal">False</span>,</span><br><span class="line">    cache=<span class="literal">True</span>,</span><br><span class="line">    verbose=<span class="literal">True</span>,</span><br><span class="line">    manager_llm=[llm],</span><br><span class="line">    embedder=embedder_config</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以增强反馈开始任务执行流程</span></span><br><span class="line">travel_require={</span><br><span class="line">    <span class="string">'destination'</span>: <span class="string">'广州'</span>,</span><br><span class="line">    <span class="string">'day'</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">'budget'</span>: <span class="number">2000</span>,</span><br><span class="line">    <span class="string">'tendency'</span>:<span class="string">'无'</span></span><br><span class="line">}</span><br><span class="line">result = crew.kickoff(inputs=travel_require)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Agent: 百事通</span></span><br><span class="line"><span class="section">## Task: 编写关于 广州 的游玩攻略，比如历史、人文、饮食等你必须从本地人的角度去考虑</span></span><br><span class="line"><span class="section"># Agent: 百事通</span></span><br><span class="line"><span class="section">## Using tool: Search the internet</span></span><br><span class="line"><span class="section">## Tool Input: </span></span><br><span class="line">"{\"search<span class="emphasis">_query\": \"\\u5e7f\\u5dde \\u5386\\u53f2 \\u4eba\\u6587 \\u996e\\u98df \\u70ed\\u95e8\\u666f\\u70b9\"}"</span></span><br><span class="line"><span class="emphasis">## Tool Output: </span></span><br><span class="line"><span class="emphasis">Search results: Title: 广州市历史景点 - Tripadvisor</span></span><br><span class="line"><span class="emphasis">Link: https://cn.tripadvisor.com/Attractions-g298555-Activities-c47-t17-Guangzhou_</span>Guangdong.html</span><br><span class="line"><span class="section">Snippet: 推荐观光体验(360) · 3. 怀圣寺 · 4. 宝墨园 · 5. 清真先贤古墓 · 6. 番禺沙湾古镇 · 7. 小洲村 · 8. 永庆坊 · 9. 南越王宫博物馆 · 10. 黄埔军校旧址纪念馆.</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">Title: 广州市10 大历史与古迹游览 - Tripadvisor</span><br><span class="line">Link: https://cn.tripadvisor.com/Attractions-g298555-Activities-c42-t228-Guangzhou<span class="emphasis">_Guangdong.html</span></span><br><span class="line"><span class="emphasis">Snippet: 广州热门景点有白云山、中山纪念堂、六榕寺、荔枝湾风光、沙面岛、花城广场、广州塔、上下九步行街、云台园、陈家祠、越秀公园、南越王陵博物馆等。</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis">Title: 广州最著名的六大“人文景点”，适合带父母一日游，你一定用得上 - 搜狐</span></span><br><span class="line"><span class="emphasis">Link: https://www.sohu.com/a/329438925_</span>120178803</span><br><span class="line"><span class="section">Snippet: 沙湾古镇，获评国家4A级旅游景区，每年都吸引来自世界各地的游客。这里古镇始建于宋代，因地处古海湾半月型的沙滩之畔，故名“沙湾”。 沙 ...</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">Title: “文旅最广州系列名录”之十大景区发布令人心向往之的广州这里风景独好</span><br><span class="line">Link: http://wglj.gz.gov.cn/ggfw/lyl/content/post<span class="emphasis">_9497825.html</span></span><br><span class="line"><span class="emphasis">Snippet: 越秀公园是全市性综合公园，自1927 年至今已有90 多年历史了，集聚了广州人的集体会议。公园所在地越秀山为白云山的余脉，最高峰海拔70多米，历史上又称粤秀山 ...</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis">Title: 广州最值得一去的100个地方！</span></span><br><span class="line"><span class="emphasis">Link: https://gzwxb.gov.cn/context/contextId/200738</span></span><br><span class="line"><span class="emphasis">Snippet: 黄埔古村还是广州重要的历史文化遗迹，是广州辉煌海贸史的见证。 ... 酒家以传统经典的广府粤菜为主，多年来秉承着广州传统饮食文化精髓。广州 ...</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"># Agent: 百事通</span></span><br><span class="line"><span class="emphasis">## Final Answer: </span></span><br><span class="line"><span class="emphasis">广州是一个历史悠久、文化底蕴深厚的城市。根据本地人的角度，我整理了以下游玩推荐项目及原因：</span></span><br><span class="line"><span class="emphasis">1. 白云山：位于广州市中心的白云山是中国四大名山之一，是全国重点风景名胜区、首批国家AAAAA级旅游景区和国家级森林公园。这里不仅景色优美，更是广州人喜爱的休闲场所。</span></span><br><span class="line"><span class="emphasis">2. 中山纪念堂：位于广州市越秀区沿江西路1号，于1956年建成，是一座具有中国传统建筑风格的纪念性建筑。每年都有不少游客来此参观。</span></span><br><span class="line"><span class="emphasis">3. 六榕寺：位于广东省广州市越秀区小北路8号，创建于隋朝时期，是中国南方最古老的佛教寺庙之一，是广东人民心目中的佛教圣地。</span></span><br><span class="line"><span class="emphasis">4. 沙面岛：这里保存着许多欧洲风格的建筑，可以感受到广州的历史文化气息。此外还有许多具有特色的餐厅和咖啡馆供游客品尝当地美食。</span></span><br><span class="line"><span class="emphasis">5. 越秀公园：该公园自1927年至今已有90多年历史了，集聚了广州人的集体记忆。在这里可以游览广州最高峰的越秀山、观赏广州花市以及欣赏优美的城市风光。</span></span><br><span class="line"><span class="emphasis">6. 番禺沙湾古镇：沙湾古镇始建于宋代，因地处古海湾半月型的沙滩之畔而得名。这里不仅有丰富的历史文化底蕴，还有独特的水乡风情等你来探索。</span></span><br><span class="line"><span class="emphasis">7. 陈家祠：位于广州市越秀区建设大马路32号，是广州最大的宗祠之一，建筑风格独特、精美，具有岭南特色和文化价值。</span></span><br><span class="line"><span class="emphasis">8. 广州塔：又称为小蛮腰，是一个集观光、餐饮、娱乐等功能于一体的多功能性地标。从塔顶可以俯瞰整个广州的美景。</span></span><br><span class="line"><span class="emphasis">9. 荔枝湾风光：一条充满岭南风情的小河，漫步其中，可以欣赏到传统的粤剧表演和品尝地道的广东小吃。</span></span><br><span class="line"><span class="emphasis">10. 广州酒家：这里的传统经典广府粤菜是广州美食的代表之一。你可以在这里品尝到正宗的广州特色菜肴。</span></span><br><span class="line"><span class="emphasis">这些景点不仅能让游客更好地了解广州的历史文化，还能体验到当地的风土人情，同时也能品味到广东地区的独特美食。希望以上推荐能帮助你计划一次愉快而有意义的广州之旅！</span></span><br><span class="line"><span class="emphasis"># Agent: 旅行社经理</span></span><br><span class="line"><span class="emphasis">## Task: 根据旅游天数：3、预算：2000，撰写一篇关于 广州 的旅游攻略如果提供了旅游倾向：无，必须则优先满足，并且根据天气情况安排旅游项目文章首先输出旅游时间内的天气情况，然后再输出攻略文章通俗易懂，平易近人，可以适当加一个emoj表情</span></span><br><span class="line"><span class="emphasis"># Agent: 旅行社经理</span></span><br><span class="line"><span class="emphasis">## Thought: 为了更好地为用户提供旅游攻略，我将查询广州在接下来三天内的天气情况。</span></span><br><span class="line"><span class="emphasis">## Using tool: get_</span>weather</span><br><span class="line"><span class="section">## Tool Input: </span></span><br><span class="line">"{\"city<span class="emphasis">_name\": \"\\u5e7f\\u5dde\"}"</span></span><br><span class="line"><span class="emphasis">## Tool Output: </span></span><br><span class="line"><span class="emphasis">{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '广州市', 'adcode': '440100', 'province': '广东', 'reporttime': '2024-12-11 16:00:49', 'casts': [{'date': '2024-12-11', 'week': '3', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '23', 'nighttemp': '11', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '23.0', 'nighttemp<span class="emphasis">_float': '11.0'}, {'date': '2024-12-12', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '21', 'nighttemp': '12', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '21.0', 'nighttemp<span class="emphasis">_float': '12.0'}, {'date': '2024-12-13', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '20', 'nighttemp': '11', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '20.0', 'nighttemp<span class="emphasis">_float': '11.0'}, {'date': '2024-12-14', 'week': '6', 'dayweather': '多云', 'nightweather': '晴', 'daytemp': '19', 'nighttemp': '10', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '19.0', 'nighttemp<span class="emphasis">_float': '10.0'}]}]}</span></span><br><span class="line"><span class="emphasis"># Agent: 旅行社经理</span></span><br><span class="line"><span class="emphasis">## Final Answer: </span></span><br><span class="line"><span class="emphasis"># 广州三天旅游攻略</span></span><br><span class="line"><span class="emphasis">## 天气情况</span></span><br><span class="line"><span class="emphasis">接下来的三天广州天气以多云为主，白天最高气温在23℃至21℃之间，夜晚最低气温在11℃左右。这样的天气非常适合户外活动。</span></span><br><span class="line"><span class="emphasis">## 旅行安排建议</span></span><br><span class="line"><span class="emphasis">### 第一天：白云山 + 中山纪念堂</span></span><br><span class="line"><span class="emphasis">- 上午游览白云山，可以爬到山顶享受广州的美景。</span></span><br><span class="line"><span class="emphasis">- 下午去中山纪念堂感受历史的气息。</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis">### 第二天：沙面岛 + 越秀公园</span></span><br><span class="line"><span class="emphasis">- 沙面岛保留了许多欧洲风格建筑，可以欣赏广州的历史文化。</span></span><br><span class="line"><span class="emphasis">- 可以在越秀公园休息放松，逛逛广州花市。</span></span><br><span class="line"><span class="emphasis">### 第三天：陈家祠 + 广州塔 + 荔枝湾风光</span></span><br><span class="line"><span class="emphasis">- 上午游览具有岭南特色的陈家祠。</span></span><br><span class="line"><span class="emphasis">- 下午前往广州塔俯瞰广州全景，享受美食。</span></span><br><span class="line"><span class="emphasis">- 晚上可以漫步荔枝湾，体验传统粤剧和品尝广东小吃。</span></span><br><span class="line"><span class="emphasis">## 小贴士</span></span><br><span class="line"><span class="emphasis">1. <span class="strong">**白云山**</span>：建议带好登山鞋或舒适的鞋子，以及足够的水和防晒霜。天气较冷时注意保暖，夏天则要做好防暑准备。</span></span><br><span class="line"><span class="emphasis">2. <span class="strong">**中山纪念堂、陈家祠等场所可能要求穿着得体**</span>，请根据个人服装选择进行参观。</span></span><br><span class="line"><span class="emphasis">3. <span class="strong">**沙面岛和荔枝湾**</span>都是享受广州本地美食的好地方，不妨在这些地方品尝正宗的广式点心。</span></span><br><span class="line"><span class="emphasis">希望这篇攻略能帮助你规划一次愉快而有意义的广州之旅！🌟</span></span><br><span class="line"><span class="emphasis"># 广州三天旅游攻略</span></span><br><span class="line"><span class="emphasis">## 天气情况</span></span><br><span class="line"><span class="emphasis">接下来的三天广州天气以多云为主，白天最高气温在23℃至21℃之间，夜晚最低气温在11℃左右。这样的天气非常适合户外活动。</span></span><br><span class="line"><span class="emphasis">## 旅行安排建议</span></span><br><span class="line"><span class="emphasis">### 第一天：白云山 + 中山纪念堂</span></span><br><span class="line"><span class="emphasis">- 上午游览白云山，可以爬到山顶享受广州的美景。</span></span><br><span class="line"><span class="emphasis">- 下午去中山纪念堂感受历史的气息。</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis">### 第二天：沙面岛 + 越秀公园</span></span><br><span class="line"><span class="emphasis">- 沙面岛保留了许多欧洲风格建筑，可以欣赏广州的历史文化。</span></span><br><span class="line"><span class="emphasis">- 可以在越秀公园休息放松，逛逛广州花市。</span></span><br><span class="line"><span class="emphasis">### 第三天：陈家祠 + 广州塔 + 荔枝湾风光</span></span><br><span class="line"><span class="emphasis">- 上午游览具有岭南特色的陈家祠。</span></span><br><span class="line"><span class="emphasis">- 下午前往广州塔俯瞰广州全景，享受美食。</span></span><br><span class="line"><span class="emphasis">- 晚上可以漫步荔枝湾，体验传统粤剧和品尝广东小吃。</span></span><br><span class="line"><span class="emphasis">## 小贴士</span></span><br><span class="line"><span class="emphasis">1. <span class="strong">**白云山**</span>：建议带好登山鞋或舒适的鞋子，以及足够的水和防晒霜。天气较冷时注意保暖，夏天则要做好防暑准备。</span></span><br><span class="line"><span class="emphasis">2. <span class="strong">**中山纪念堂、陈家祠等场所可能要求穿着得体**</span>，请根据个人服装选择进行参观。</span></span><br><span class="line"><span class="emphasis">3. <span class="strong">**沙面岛和荔枝湾**</span>都是享受广州本地美食的好地方，不妨在这些地方品尝正宗的广式点心。</span></span><br><span class="line"><span class="emphasis">希望这篇攻略能帮助你规划一次愉快而有意义的广州之旅！🌟</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以增强反馈开始任务执行流程</span></span><br><span class="line">travel_require={</span><br><span class="line">    <span class="string">'destination'</span>: <span class="string">'广州'</span>,</span><br><span class="line">    <span class="string">'day'</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">'budget'</span>: <span class="number">2000</span>,</span><br><span class="line">    <span class="string">'tendency'</span>:<span class="string">'第三天上午我想去大夫山玩'</span></span><br><span class="line">}</span><br><span class="line">result = crew.kickoff(inputs=travel_require)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Agent: 百事通</span></span><br><span class="line"><span class="section">## Task: 编写关于 广州 的游玩攻略，比如历史、人文、饮食等你必须从本地人的角度去考虑</span></span><br><span class="line"><span class="section"># Agent: 百事通</span></span><br><span class="line"><span class="section">## Using tool: Search the internet</span></span><br><span class="line"><span class="section">## Tool Input: </span></span><br><span class="line">"{\"search<span class="emphasis">_query\": \"\\u5e7f\\u5dde \\u5386\\u53f2 \\u4eba\\u6587 \\u996e\\u98df\"}"</span></span><br><span class="line"><span class="emphasis">## Tool Output: </span></span><br><span class="line"><span class="emphasis">Search results: Title: “食在广州”背后的文化交流 - 南方网</span></span><br><span class="line"><span class="emphasis">Link: https://news.southcn.com/node_</span>54a44f01a2/020f12acff.shtml</span><br><span class="line"><span class="section">Snippet: “食在广州”两千年前始于南越王宴​ 在南越王博物馆展示出土的文物中，从“御膳珍馐”到炊具容器，一应俱全。 两千多年前的南越王，已经将丰富食材烹制成了佳 ...</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">Title: 追忆粤菜两千年历史，探寻“食在广州”文化底蕴</span><br><span class="line">Link: http://www.qb.gd.gov.cn/ztzl/2021ycsf/xwdt/content/post<span class="emphasis">_1028903.html</span></span><br><span class="line"><span class="emphasis">Snippet: 粤菜的起源可追溯两千多年前，南越王赵佗治理岭南时，当地经济和文化有所发展，饮食烹饪演化成型。 汉文帝时，南越王赵佗归附汉朝，进一步促成了中原文化与岭南 ...</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis">Title: 粤菜之美在于和与合 - 广州市人民政府</span></span><br><span class="line"><span class="emphasis">Link: https://www.gz.gov.cn/zlgz/tsgz/content/post_</span>8033813.html</span><br><span class="line"><span class="section">Snippet: 据中山大学周松芳教授考证，虽然典籍中记载的广州饮食有逾两千年的历史，但“食在广州”之驰名始于晚清。 广州“一口通商”时代，世界各地商贾聚集十三行。 ...</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">Title: 独具特色的广州饮食文化 - 新浪新闻</span><br><span class="line">Link: https://news.sina.com.cn/o/2009-12-29/180416851193s.shtml</span><br><span class="line"><span class="section">Snippet: 广州主要以粤菜为主，粤菜的形成历史悠久。早在汉魏时期，一批批中原人移居岭南，使广州饮食文化深受中原饮食文化的影响。鸦片战争后，欧美各国的传教 ...</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">Title: 现代作家笔下的『食在广州』城市形象 - 中国社会科学网</span><br><span class="line">Link: https://www.cssn.cn/ztzl/jzz/rwln/wh/whcy/202209/t20220923<span class="emphasis">_5541447.shtml</span></span><br><span class="line"><span class="emphasis">Snippet: “食在广州”作为一种饮食文化现象，兴起于清代十三行“一口通商”时期；作为一种概念，则生成于清末民初。“食在广州”的文化氛围真正达到高潮，则是在民国时期。彼 ...</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"># Agent: 百事通</span></span><br><span class="line"><span class="emphasis">## Final Answer: </span></span><br><span class="line"><span class="emphasis">广州是一个历史悠久的城市，拥有丰富的文化和美食资源，以下是我为你精心挑选的游玩攻略：</span></span><br><span class="line"><span class="emphasis">1. 南越王博物馆：了解广州两千年前的历史文化。南越王墓出土了丰富的文物，展示了当时的饮食习俗和烹饪技艺。</span></span><br><span class="line"><span class="emphasis">2. 历史建筑：参观陈家祠、荔枝湾等历史景点，体验岭南风格的老街市集以及古建筑的风采。</span></span><br><span class="line"><span class="emphasis">3. 羊城八景：包括白鹅潭、白云山摩星岭、流花湖公园、珠江夜游等，感受广州独特的自然风光和人文景观。</span></span><br><span class="line"><span class="emphasis">4. 品尝地道粤菜：广州美食享誉全球，品尝正宗粤菜是来此旅行的必修课。推荐如陶陶居、影记、点都德等著名餐馆。</span></span><br><span class="line"><span class="emphasis">5. 深入了解广东文化：参观广东省博物馆、岭南印象园，感受广东地区的传统文化和地方特色。</span></span><br><span class="line"><span class="emphasis">6. 体验广州夜生活：珠江新城、上下九步行街、北京路步行街等地是品尝美食、购买特产的好去处。此外，还可以去花地湾酒吧区感受本地夜生活氛围。</span></span><br><span class="line"><span class="emphasis">7. 参观中国美术馆：领略岭南画派的艺术魅力，了解广东艺术文化。</span></span><br><span class="line"><span class="emphasis">8. 逛逛广州塔附近的购物商圈：如太古仓码头、正佳广场等地方，购买一些特色纪念品和土特产。</span></span><br><span class="line"><span class="emphasis">9. 游览黄埔古港遗址公园：感受千年古港的历史韵味。</span></span><br><span class="line"><span class="emphasis">10. 品味早茶：广州人习惯在早晨享受一顿丰盛的早餐。推荐去老城区的餐厅体验正宗粤式早茶。</span></span><br><span class="line"><span class="emphasis">通过以上攻略，你可以全面了解广州的文化、历史和美食，享受到一次丰富而难忘的旅行体验。</span></span><br><span class="line"><span class="emphasis"># Agent: 旅行社经理</span></span><br><span class="line"><span class="emphasis">## Task: 根据旅游天数：3、预算：2000，撰写一篇关于 广州 的旅游攻略如果提供了旅游倾向：第三天上午我想去大夫山玩，必须则优先满足，并且根据天气情况安排旅游项目文章首先输出旅游时间内的天气情况，然后再输出攻略文章通俗易懂，平易近人，可以适当加一个emoj表情</span></span><br><span class="line"><span class="emphasis"># Agent: 旅行社经理</span></span><br><span class="line"><span class="emphasis">## Using tool: get_</span>weather</span><br><span class="line"><span class="section">## Tool Input: </span></span><br><span class="line">"{\"city<span class="emphasis">_name\": \"\\u5e7f\\u5dde\"}"</span></span><br><span class="line"><span class="emphasis">## Tool Output: </span></span><br><span class="line"><span class="emphasis">{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '广州市', 'adcode': '440100', 'province': '广东', 'reporttime': '2024-12-11 16:00:49', 'casts': [{'date': '2024-12-11', 'week': '3', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '23', 'nighttemp': '11', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '23.0', 'nighttemp<span class="emphasis">_float': '11.0'}, {'date': '2024-12-12', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '21', 'nighttemp': '12', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '21.0', 'nighttemp<span class="emphasis">_float': '12.0'}, {'date': '2024-12-13', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '20', 'nighttemp': '11', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '20.0', 'nighttemp<span class="emphasis">_float': '11.0'}, {'date': '2024-12-14', 'week': '6', 'dayweather': '多云', 'nightweather': '晴', 'daytemp': '19', 'nighttemp': '10', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_</span>float': '19.0', 'nighttemp<span class="emphasis">_float': '10.0'}]}]}</span></span><br><span class="line"><span class="emphasis"># Agent: 旅行社经理</span></span><br><span class="line"><span class="emphasis">## Final Answer: </span></span><br><span class="line"><span class="emphasis"># 广州3日游攻略</span></span><br><span class="line"><span class="emphasis">## 天气概况</span></span><br><span class="line"><span class="emphasis">- <span class="strong">**12月11日**</span>：阴转多云，白天温度23℃，夜间气温11℃。风速较弱。</span></span><br><span class="line"><span class="emphasis">- <span class="strong">**12月12日**</span>：全天多云，白天温度21℃，夜间气温12℃。风速较弱。</span></span><br><span class="line"><span class="emphasis">- <span class="strong">**12月13日**</span>：多云为主，白天温度20℃，夜间气温11℃。风速较弱。</span></span><br><span class="line"><span class="emphasis">## 旅游计划</span></span><br><span class="line"><span class="emphasis">### 第一天：文化之旅</span></span><br><span class="line"><span class="emphasis">- 上午：</span></span><br><span class="line"><span class="emphasis">  - 参观南越王博物馆（推荐理由：了解广州两千年前的历史文化）。注意：馆内禁止拍照。</span></span><br><span class="line"><span class="emphasis">- 下午：</span></span><br><span class="line"><span class="emphasis">  - 探访陈家祠和荔枝湾，感受岭南建筑的独特魅力。注意：游览过程中请尊重当地居民。</span></span><br><span class="line"><span class="emphasis">### 第二天：自然风光与美食体验</span></span><br><span class="line"><span class="emphasis">- 上午：</span></span><br><span class="line"><span class="emphasis">  - 按照游客要求去大夫山游玩（推荐理由：第三天上午想去大夫山）。注意：天气阴沉，请准备雨具。</span></span><br><span class="line"><span class="emphasis">- 下午：</span></span><br><span class="line"><span class="emphasis">  - 品尝地道粤菜，参观陶陶居、影记等著名餐馆。建议提前订位以确保用餐体验。</span></span><br><span class="line"><span class="emphasis">### 第三天：文化与休闲</span></span><br><span class="line"><span class="emphasis">- 上午：</span></span><br><span class="line"><span class="emphasis">  - 访问广东省博物馆和岭南印象园，深入了解广东地区的传统文化和地方特色。</span></span><br><span class="line"><span class="emphasis">- 下午：</span></span><br><span class="line"><span class="emphasis">  - 感受广州夜生活，在珠江新城或上下九步行街享用美食、购买特产。晚上可前往花地湾酒吧区享受本地氛围。</span></span><br><span class="line"><span class="emphasis">## 小贴士</span></span><br><span class="line"><span class="emphasis">1. 广州塔附近的太古仓码头、正佳广场等地是购买特色纪念品和土特产的好去处。</span></span><br><span class="line"><span class="emphasis">2. 每天下午可以参观中国美术馆，领略岭南画派的艺术魅力。</span></span><br><span class="line"><span class="emphasis">3. 不要错过广州早茶文化，在老城区的餐厅体验正宗粤式早茶。</span></span><br><span class="line"><span class="emphasis">希望这份攻略能够帮助您在广州度过一个充满惊喜与美好的旅程！🌟</span></span><br><span class="line"><span class="emphasis"># 广州3日游攻略</span></span><br><span class="line"><span class="emphasis">## 天气概况</span></span><br><span class="line"><span class="emphasis">- <span class="strong">**12月11日**</span>：阴转多云，白天温度23℃，夜间气温11℃。风速较弱。</span></span><br><span class="line"><span class="emphasis">- <span class="strong">**12月12日**</span>：全天多云，白天温度21℃，夜间气温12℃。风速较弱。</span></span><br><span class="line"><span class="emphasis">- <span class="strong">**12月13日**</span>：多云为主，白天温度20℃，夜间气温11℃。风速较弱。</span></span><br><span class="line"><span class="emphasis">## 旅游计划</span></span><br><span class="line"><span class="emphasis">### 第一天：文化之旅</span></span><br><span class="line"><span class="emphasis">- 上午：</span></span><br><span class="line"><span class="emphasis">  - 参观南越王博物馆（推荐理由：了解广州两千年前的历史文化）。注意：馆内禁止拍照。</span></span><br><span class="line"><span class="emphasis">- 下午：</span></span><br><span class="line"><span class="emphasis">  - 探访陈家祠和荔枝湾，感受岭南建筑的独特魅力。注意：游览过程中请尊重当地居民。</span></span><br><span class="line"><span class="emphasis">### 第二天：自然风光与美食体验</span></span><br><span class="line"><span class="emphasis">- 上午：</span></span><br><span class="line"><span class="emphasis">  - 按照游客要求去大夫山游玩（推荐理由：第三天上午想去大夫山）。注意：天气阴沉，请准备雨具。</span></span><br><span class="line"><span class="emphasis">- 下午：</span></span><br><span class="line"><span class="emphasis">  - 品尝地道粤菜，参观陶陶居、影记等著名餐馆。建议提前订位以确保用餐体验。</span></span><br><span class="line"><span class="emphasis">### 第三天：文化与休闲</span></span><br><span class="line"><span class="emphasis">- 上午：</span></span><br><span class="line"><span class="emphasis">  - 访问广东省博物馆和岭南印象园，深入了解广东地区的传统文化和地方特色。</span></span><br><span class="line"><span class="emphasis">- 下午：</span></span><br><span class="line"><span class="emphasis">  - 感受广州夜生活，在珠江新城或上下九步行街享用美食、购买特产。晚上可前往花地湾酒吧区享受本地氛围。</span></span><br><span class="line"><span class="emphasis">## 小贴士</span></span><br><span class="line"><span class="emphasis">1. 广州塔附近的太古仓码头、正佳广场等地是购买特色纪念品和土特产的好去处。</span></span><br><span class="line"><span class="emphasis">2. 每天下午可以参观中国美术馆，领略岭南画派的艺术魅力。</span></span><br><span class="line"><span class="emphasis">3. 不要错过广州早茶文化，在老城区的餐厅体验正宗粤式早茶。</span></span><br><span class="line"><span class="emphasis">希望这份攻略能够帮助您在广州度过一个充满惊喜与美好的旅程！🌟</span></span><br></pre></td></tr></tbody></table></figure></div><footer class="post-footer"><div class="reward-container"><div>请我一杯咖啡吧！</div><button>赞赏</button><div class="post-reward"><div><img src="/images/wechatpay.png" alt="Shaogui 微信"> <span>微信</span></div><div><img src="/images/alipay.png" alt="Shaogui 支付宝"> <span>支付宝</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Shaogui</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://www.shaogui.life/posts/3025363780.html" title="基于 CrewAI 打造旅游助手">https://www.shaogui.life/posts/3025363780.html</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="followme"><span>欢迎关注我的其它发布渠道</span><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="https://www.zhihu.com/people/mu-zhi-zhi-tian"><span class="icon"><i class="fab fa-zhihu"></i> </span><span class="label">知乎</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="/atom.xml"><span class="icon"><i class="fa fa-rss"></i> </span><span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/3187706466.html" rel="prev" title="在 LlamaIndex 用不同方式构建 RAG 的 Agent"><i class="fa fa-angle-left"></i> 在 LlamaIndex 用不同方式构建 RAG 的 Agent</a></div><div class="post-nav-item"><a href="/posts/1619479979.html" rel="next" title="搭建本地模型的 LlamaIndex">搭建本地模型的 LlamaIndex <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Shaogui</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">1.9m</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">28:48</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="reading-progress-bar"></div><a href="https://github.com/WuShaogui" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"neutral","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script><script src="/js/third-party/tags/mermaid.js"></script><script src="/js/third-party/pace.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"WuShaogui/wushaogui.github.io","issue_term":"pathname","theme":"github-light"}</script><script src="/js/third-party/comments/utterances.js"></script></body></html>